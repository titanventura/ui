"use strict";(self.webpackChunkkeploy_ui=self.webpackChunkkeploy_ui||[]).push([[937],{74670:function(e,t,r){r.d(t,{Z:function(){return b}});var a=r(63366),n=r(87462),o=r(67294),l=r(85505),i=r(9236),s=r(32729),c=r(97639),d=r(77869),u=r(85604),p=r(31351);function m(e){return(0,p.Z)("MuiAppBar",e)}(0,r(19508).Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var f=r(85893),h=["className","color","enableColorOnDark","position"],g=function(e,t){return"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")")},v=(0,s.ZP)(u.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["position".concat((0,d.Z)(r.position))],t["color".concat((0,d.Z)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState,a="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,n.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},!t.vars&&(0,n.Z)({},"default"===r.color&&{backgroundColor:a,color:t.palette.getContrastText(a)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,n.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,n.Z)({},"default"===r.color&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette.AppBar.defaultBg:g(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":r.enableColorOnDark?t.vars.palette.text.primary:g(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},r.color&&!r.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette[r.color].main:g(t.vars.palette.AppBar.darkBg,t.vars.palette[r.color].main),"--AppBar-color":r.enableColorOnDark?t.vars.palette[r.color].contrastText:g(t.vars.palette.AppBar.darkColor,t.vars.palette[r.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===r.color?"inherit":"var(--AppBar-color)"},"transparent"===r.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),b=o.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiAppBar"}),o=r.className,s=r.color,u=void 0===s?"primary":s,p=r.enableColorOnDark,g=void 0!==p&&p,b=r.position,x=void 0===b?"fixed":b,Z=(0,a.Z)(r,h),y=(0,n.Z)({},r,{color:u,position:x,enableColorOnDark:g}),w=function(e){var t=e.color,r=e.position,a=e.classes,n={root:["root","color".concat((0,d.Z)(t)),"position".concat((0,d.Z)(r))]};return(0,i.Z)(n,m,a)}(y);return(0,f.jsx)(v,(0,n.Z)({square:!0,component:"header",ownerState:y,elevation:4,className:(0,l.Z)(w.root,o,"fixed"===x&&"mui-fixed"),ref:t},Z))}))},14764:function(e,t,r){r.r(t),r.d(t,{default:function(){return X}});var a=r(23834),n=r(90883),o=r(67294),l=r(83706),i=r(75038),s=r(42982);var c=r(63366),d=r(7897),u=r(1935),p=r(26350),m=r(13366),f=r(2751),h=r(74670),g=r(94449),v=r(69299),b=r(32729),x=r(64803),Z=r(71082),y=r(13141),w=r(4942),k=r(45987),C=r(75900),E=r.n(C),T=r(85893);var P=["xxl","xl","lg","md","sm","xs"],N=o.createContext({prefixes:{},breakpoints:P,minBreakpoint:"xs"});N.Consumer,N.Provider;function B(e,t){var r=(0,o.useContext)(N).prefixes;return e||r[t]||t}function A(e,t){var r=0;return o.Children.map(e,(function(e){return o.isValidElement(e)?t(e,r++):e}))}var O=["min","now","max","label","visuallyHidden","striped","animated","className","style","variant","bsPrefix"],S=["isChild"],j=["min","now","max","label","visuallyHidden","striped","animated","bsPrefix","variant","className","children"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){var a=(e-t)/(r-t)*100;return Math.round(1e3*a)/1e3}function H(e,t){var r,a=e.min,n=e.now,o=e.max,l=e.label,i=e.visuallyHidden,s=e.striped,c=e.animated,d=e.className,u=e.style,p=e.variant,m=e.bsPrefix,f=(0,k.Z)(e,O);return(0,T.jsx)("div",R(R({ref:t},f),{},{role:"progressbar",className:E()(d,"".concat(m,"-bar"),(r={},(0,w.Z)(r,"bg-".concat(p),p),(0,w.Z)(r,"".concat(m,"-bar-animated"),c),(0,w.Z)(r,"".concat(m,"-bar-striped"),c||s),r)),style:R({width:"".concat(I(n,a,o),"%")},u),"aria-valuenow":n,"aria-valuemin":a,"aria-valuemax":o,children:i?(0,T.jsx)("span",{className:"visually-hidden",children:l}):l}))}var z=o.forwardRef((function(e,t){var r=e.isChild,a=(0,k.Z)(e,S);if(a.bsPrefix=B(a.bsPrefix,"progress"),r)return H(a,t);var n=a.min,l=a.now,i=a.max,s=a.label,c=a.visuallyHidden,d=a.striped,u=a.animated,p=a.bsPrefix,m=a.variant,f=a.className,h=a.children,g=(0,k.Z)(a,j);return(0,T.jsx)("div",R(R({ref:t},g),{},{className:E()(f,p),children:h?A(h,(function(e){return(0,o.cloneElement)(e,{isChild:!0})})):H({min:n,now:l,max:i,label:s,visuallyHidden:c,striped:d,animated:u,bsPrefix:p,variant:m},t)}))}));z.displayName="ProgressBar",z.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1};var W=z,F=r(70302),M=r(72129),_=r(99832),G=r(9484),q=r(88687),J=r(8467),L=r(43973),U=["className"],V=(0,F.Z)((function(){return{card:{width:"100%",marginTop:20,"&:hover":{boxShadow:"rgba(0, 0, 0, 0.22) 0px 19px 43px",transform:"translate3d(0px, -1px, 0px)"},borderRadius:10},key:{whiteSpace:"nowrap",overflow:"hidden",color:"rgb(50,50,50)"},value:{color:"rgba(25,118,210)",textOverflow:"ellipsis",overflow:"hidden",flexGrow:1},success:{color:"success"},failed:{color:"error"}}})),$=(0,b.ZP)((function(e){var t=e.className,r=(0,c.Z)(e,U);return o.createElement(u.Z,Object.assign({},r,{classes:{popper:t}}))}))((function(e){var t;return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),(t={})["& ."+p.Z.tooltip]={backgroundColor:"#ffffff",color:"rgba(146,146,146,0.87)",minWidth:250,marginBottom:5,border:"1px solid #dadde9"},t}));function K(){var e=V(),t=o.useState(5),r=t[0],a=t[1],i=(0,J.a)(d.ok,{pollInterval:l.g_}),c=i.loading,u=i.error,p=i.data;if(c)return o.createElement(G.Z,null);if(u)return o.createElement(q.Z,{msg:u.message});if(null==p||null==(null==p?void 0:p.testRun)||0==(null==p?void 0:p.testRun.length))return o.createElement(_.Z,{doc:"https://github.com/keploy/keploy",message:"Please perform some Test Runs! ",image:M.Z});var b=[{field:"id",headerName:"Testrun ID",minWidth:350,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"app",headerName:"App Name",minWidth:200,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"startedAt",headerName:"Started At",minWidth:150,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"totalTests",headerName:"Total Tests",type:"number",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"successfulTests",headerName:"Successful Tests",type:"number",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"failedTests",headerName:"Failed Tests",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"status",headerName:"Status",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center",renderCell:function(t){return o.createElement($,{title:o.createElement(o.Fragment,null,o.createElement(m.Z,null,"Summary"),o.createElement(f.ZP,{container:!0,direction:"column"},o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",color:"success.main"},"Successful Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",color:"success.main"},": ",t.row.successfulTests))),o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",color:"error.main"},"Failed Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",color:"error.main"},": ",t.row.failedTests))),o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",className:e.value},"Total Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(m.Z,{variant:"subtitle2",className:e.value},": ",t.row.totalTests)))))},o.createElement(W,{style:{height:8,width:100}},o.createElement(W,{now:100*t.row.successfulTests/t.row.totalTests,visuallyHidden:!0,style:{height:8,backgroundColor:"rgba(46,125,50,0.8)"},label:t.row.successfulTests+" Successful",key:1}),o.createElement(W,{now:100*t.row.failedTests/t.row.totalTests,visuallyHidden:!0,style:{height:8,backgroundColor:"rgba(211,47,47,0.8)"},label:t.row.failedTests+" Failed",key:2}),"RUNNING"==t.row.status&&o.createElement(W,{visuallyHidden:!0,now:100*(t.row.totalTests-t.row.successfulTests-t.row.failedTests)/t.row.totalTests,style:{height:8,backgroundColor:"#fff59d",color:"#000"},animated:!0,striped:!0,label:"In Progress",key:3})))}}],w=(0,s.Z)(p.testRun).sort((function(e,t){return e.updated<t.updated?1:-1})),k=[];return w.map((function(e){k.push({id:e.id,app:e.app,startedAt:(0,y.rJ)(e.updated),totalTests:e.total,successfulTests:e.success,failedTests:e.failure})})),o.createElement(o.Fragment,null,o.createElement(n.Z,{title:"Recent Test Runs"}),o.createElement(f.ZP,{container:!0,sx:{mb:50}},(null==p?void 0:p.testRun.length)>0&&o.createElement(f.ZP,{item:!0,container:!0,direction:"column"},o.createElement(h.Z,{position:"relative",sx:{mb:1},style:y.ZE},o.createElement(g.Z,{sx:{height:"10vh",alignContent:"center"}},o.createElement(m.Z,{variant:"h4",color:"inherit",component:"div"},"Recent Test Runs"))),o.createElement(f.ZP,{item:!0,container:!0,spacing:4,sx:{pl:5,pr:5}},o.createElement(v.Z,{sx:{width:"100%",marginTop:5,marginLeft:"auto",marginRight:"auto",backgroundColor:"white","& .super-app-theme--header":{backgroundColor:"#1976D2",color:"#ffffff"}}},o.createElement(x._,{rows:k,columns:b,autoHeight:!0,rowHeight:60,onPageSizeChange:function(e){return a(e)},pageSize:r,rowsPerPageOptions:[5,10,100],onRowClick:function(e){(0,Z.navigate)("detail/?id="+e.row.id)},components:{Toolbar:L.N}}))))))}var Q=r(63974);function X(){return o.createElement(i.e,{client:l.ID},o.createElement(Q.Z,{theme:y.rS},o.createElement(a.Z,null,o.createElement(n.Z,{title:"Deployment History"}),o.createElement(K,null))))}},72129:function(e,t,r){t.Z=r.p+"static/empty-fbafdc495a40f15555d06a379cfc2c2f.png"}}]);
//# sourceMappingURL=component---src-pages-testruns-tsx-d2d749365ddcbd44c4de.js.map